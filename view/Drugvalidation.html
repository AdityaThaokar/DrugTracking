<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Drug Validation</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>	
	<script language="javascript" type="text/javascript" src="web3.min.js"></script>
	<style type="text/css">
	body
		{
			/*background-color: #090b1e;*/
			background :url("pic3.jpg");
			 background-size: cover;
			 
		}
		.card{
			padding: 10px;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
		}
		form {
			padding: 10px;
		}
		.container h3,p{
			color: white;
		}
		.nav-link{
			color: white;
		}
		.nav-link:hover{
			color: #84b3ff;
		}
	</style>
</head>
<body>
		<div class="container-fluid">
		<nav class="navbar col-bg-12">
			<ul class="nav nav-pills">
		  <li class="nav-item">
		    <a class="nav-link " href="Home.html">Home</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link " href="Drugentry.html">Drug Entry</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link active" href="Drugvalidation.html">Drug Validation</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" href="Drugupdation.html">Ownership Updation</a>
		  </li>
		</nav>
	</div>
		<br><br><br>
	<div class="container col-blg-12">
		<center>
		<form>
		<h3>Validate the Drug !</h3>
		<p>Enter The Unique ID of the Drug : </p>
		<input type="text" style="width:50%;" placeholder="Enter uniqueID" id="uniqueID" name="uniqueID">
		<button type="submit" class="btn btn-info" id="verify"  onclick=" ">Verify</button>
	</form>
</center>
	</div>
	<br><br><br><br><br>
	<div class="container bottom">
	<footer>
		<center><small>
	<p>&copy;Team Access Dismissed - participated in Bitcamp-2K19</a>.</p>
		</center></small>
	</footer>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script>
if (typeof web3 !== 'undefined') {
            web3 = new Web3(web3.currentProvider);
        } else {
            // set the provider you want from Web3.providers
            web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));   
        }
  
 	web3.eth.defaultAccount = web3.eth.accounts[0];
 	var DrugContract = web3.eth.contract([
	{
		"constant": false,
		"inputs": [
			{
				"name": "_owner",
				"type": "bytes32"
			},
			{
				"name": "_drugId",
				"type": "uint256"
			},
			{
				"name": "_drugName",
				"type": "bytes32"
			},
			{
				"name": "_date",
				"type": "bytes32"
			},
			{
				"name": "_mrp",
				"type": "bytes32"
			}
		],
		"name": "addDrug",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "drugs",
		"outputs": [
			{
				"name": "ownername",
				"type": "bytes32"
			},
			{
				"name": "drugId",
				"type": "uint256"
			},
			{
				"name": "drugName",
				"type": "bytes32"
			},
			{
				"name": "date",
				"type": "bytes32"
			},
			{
				"name": "mrp",
				"type": "bytes32"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "drugs_id",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_drugId",
				"type": "uint256"
			}
		],
		"name": "verify",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
]);

var Drugs = DrugContract.at('0xe876984de70f0ad600558edf40bdb4b9b5fb4b57');

console.log(Drugs);

$("#verify").click(function(error, result) {

			 if(!error)
                {
                	Drugs.verify($("#uniqueID").val());
                    console.log(result);
                }
            else
                console.error(error);
        });

</script>

</script>
</html>